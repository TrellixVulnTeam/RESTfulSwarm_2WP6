---
parameters:
  - name: job_info
    in: body
    description: Job information including resources schedule decision conducted by job manager.
    type: object
    schema:
      $ref: '#/definitions/JobInfo'
    required: true

definitions:
  JobInfo:
    type: object
    properties:
      job_name:
        type: string
      job_info:
        type: object
        properties:
          network:
            $ref: '#/definitions/Network'
          tasks:
            type: object
            schema:
              $ref: '#/definitions/TasksInfo'
      status:
        type: string
        enum: ['Ready','Deployed']

  Network:
    type: object
    properties:
      name:
        type: string
      driver:
        type: string
        enum: ['overlay']
      subnet:
        type: string

  TasksInfo:
    type: object
    schema:
      task:
        properties:
          $ref: '#/definitions/TaskDetail'

  TaskDetail:
    type: object
    properties:
      container_name:
        type: string
      node:
        type: string
      image:
        type: string
      detach:
        type: boolean
      command:
        type: string
      cpu_count:
        type: integer
      cpuset_cpus:
        type: string
        example: ""
      mem_limit:
        type: string
        example: "30m"
      ports:
        type: object
        exmaple: {3000/tcp: 3000}
      volumes:
        type: object
        example: {}
      environment:
        type: object
        example: {}
responses:
  '200':
    description: OK
    schema:
      type: string
      example: Job has been submitted to launch.
  '400':
    description: Bad request
    schema:
      type: string
      example: Submitted Job info has error.
