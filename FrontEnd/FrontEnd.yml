---
parameters:
  - name: job_info
    in: body
    description: Job information including resources schedule decision conducted by job manager.
    type: object
    schema:
      $ref: '#/definitions/JobInfo'
    required: true

definitions:
  JobInfo:
    type: object
    properties:
      job_name:
        type: string
      job_info:
        type: object
        properties:
          network:
            type: object
            schema:
              $ref: '#/definitions/Network'
          tasks:
            type: object
            example: {
                "task1": {
                  "container_name": "job1_task1",
                  "node": "",
                  "image": "task1 image",
                  "detach": true,
                  "command": "",
                  "cpu_count": 3,
                  "cpuset_cpus": "",
                  "mem_limit": "10m",
                  "ports": {"3000/tcp": 3000},
                  "volumes": {},
                  "environment": {}
                },
                "task2": {
                  "container_name": "job1_task2",
                  "node": "",
                  "image": "task2 image",
                  "detach": true,
                  "command": "python SubscribeData.py -a 10.52.3.255 -p 3000",
                  "cpu_count": 2,
                  "cpuset_cpus": "",
                  "mem_limit": "10m",
                  "ports": {},
                  "volumes": {},
                  "environment": {}
                }
            }
      status:
        type: string
        enum: ['Ready','Deployed']

  Network:
    type: object
    properties:
      name:
        type: string
      driver:
        type: string
        enum: ['overlay']
      subnet:
        type: string

responses:
  '200':
    description: OK
    schema:
      type: string
      example: Job has been submitted to launch.
  '400':
    description: Bad request
    schema:
      type: string
      example: Submitted Job info has error.
